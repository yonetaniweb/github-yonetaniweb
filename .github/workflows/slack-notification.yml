name: Notify Slack on Deployment

on:
  deployment_status:

jobs:
  notify:
    # ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæˆåŠŸï¼ˆsuccessï¼‰ã—ãŸå ´åˆã®ã¿å®Ÿè¡Œ
    if: github.event.deployment_status.state == 'success'
    runs-on: ubuntu-latest
    steps:
      - name: Send notification to Slack
        uses: rtCamp/action-slack-notify@v2
        env:
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK_URL }}
          SLACK_CHANNEL: general # å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã—ã¦ãã ã•ã„
          SLACK_COLOR: '#32CD32' # Lime Green
          SLACK_ICON: https://img.icons8.com/color/48/000000/ok--v1.png
          SLACK_TITLE: "ã€æ¡ˆä»¶åã€‘github-yonetaniweb"
          SLACK_MESSAGE: |
            ã€‡ã€‡ã®ä»®ã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸã®ã§ã€ã”ç¢ºèªãŠé¡˜ã„è‡´ã—ã¾ã™ã€‚
            
            <${{ github.event.deployment_status.target_url }}|ğŸ‘‰ ã‚µã‚¤ãƒˆã‚’ç¢ºèªã™ã‚‹ (Click)>
          SLACK_USERNAME: Vercel Deploy Bot
          MSG_MINIMAL: true # ä¸è¦ãªæƒ…å ±ã‚’çœã
